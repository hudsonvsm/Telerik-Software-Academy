<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title></title>
	<link href="styles/js-console.css" rel="stylesheet" />
	<script src="scripts/string-extensions.js"></script>
</head>
<body>
	<p>Write a function that formats a string using placeholders:</p>
	<p>var str = stringFormat('Hello {0}!', 'Peter'); //str = 'Hello Peter!';</p>
	<p>The function should work with up to 30 placeholders and all types</p>
	<p>var frmt = '{0}, {1}, {0} text {2}'; var str = stringFormat(frmt, 1, 'Pesho', 'Gosho'); //str = '1, Pesho, 1 text Gosho'</p>
	<div id="inputdiv">
		<div class="input">
			<label for="tb-first">Text: </label>
			<input type="text" id="tb-first" />
		</div>
		<div class="input">
			<label for="tb-second">Text: </label>
			<input type="text" id="tb-second" />
		</div>
		<div id="inputbutton">
			<a href="#" onclick="onFindButtonClick()">Find</a>
		</div>
	</div>
	<div id="js-console"></div>
	<script src="scripts/js-console.js"></script>
	<script>
		function onFindButtonClick() {
			function stringFormat(placeholders, substitutes) {
				var formatArr = placeholders.split('');
				var str = '';
				var addedSubstitute = false;

				for (var i = 1; i < placeholders.length; i += 1) {
					addedSubstitute = false;
					for (var j = 0; j < substitutes.length; j += 1) {
						if (placeholders[i] == '{' || placeholders[i] == '}') {
							addedSubstitute = true;
						} else if (placeholders[i] == j && placeholders[i - 1] == '{') {
							str += substitutes[j];
							addedSubstitute = true;
						}
					}
					if (addedSubstitute == false) {
						str += formatArr[i];
					}
				}
				return str;
			}
			//var placeholders = jsConsole.read('#tb-first');
			//var substitute = jsConsole.read('#tb-second');
			
			//test
			var placeholders = '{0}, {1}, {0} text {2}';
			var substitutes = [1, 'Pesho', 'Gosho'];
			var str = stringFormat(placeholders, substitutes); //str = '1, Pesho, 1 text Gosho'
			
			jsConsole.writeLine(str);
		}
	</script>
</body>
</html>
